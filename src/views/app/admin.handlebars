<div class="all">
    <div class="main-wrapper">
        <aside class="sidebar">
            <a href="#" data-section="dashboard-section" class="nav-link active">Dashboard</a>
            <a href="#" data-section="user-management-section" class="nav-link">Usuários</a>
            <a href="#" data-section="content-management-section" class="nav-link">Conteúdo</a>
            <a href="#" data-section="service-management-section" class="nav-link">Serviços</a>
            <a href="#" data-section="event-management-section" class="nav-link">Eventos</a>
            <a href="#" data-section="reports-section" class="nav-link">Relatórios</a>
            <a href="#" data-section="complaints-section" class="nav-link">Denúncias</a>
        </aside>

        <main class="content-area">
            <section id="dashboard-section" class="content-section active">
                <h2>Visão Geral</h2>
                <div class="list-container">
                    <h3>Totais de Usuários</h3>
                    <div class="metrics-grid" id="total-users-metrics">
                    </div>
                </div>

                <div class="list-container">
                    <h3>Atividades Recentes</h3>
                    <div class="recent-section-content">
                        <div class="column-list">
                            <h3>Últimos Usuários Cadastrados</h3>
                            <ul class="recent-activities-list" id="last-registered-users">
                            </ul>
                        </div>
                        <div class="column-list">
                            <h3>Últimos Serviços</h3>
                            <ul class="recent-activities-list" id="last-services">
                            </ul>
                        </div>
                        <div class="column-list">
                            <h3>Últimos Eventos Adicionados</h3>
                            <ul class="recent-activities-list" id="last-events">
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="list-container">
                    <h3>Estatísticas Gerais da Plataforma</h3>
                    <div class="metrics-grid" id="general-statistics-metrics">
                    </div>
                </div>
            </section>

            <section id="user-management-section" class="content-section">
                <h2>Gerenciamento de Usuários</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>E-mail</th>
                            <th>Tipo</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="user-list-tbody">
                    </tbody>
                </table>
            </section>

            <section id="content-management-section" class="content-section">
                <h2>Gerenciamento de Conteúdo</h2>

                <div class="list-container">
                    <h3>Músicas e Álbuns</h3>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="value" id="total-music-count">0</div>
                            <div class="label">Total de Músicas</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="total-albums-count">0</div>
                            <div class="label">Total de Álbuns</div>
                        </div>
                    </div>
                    <h3 style="margin-top: 2rem;">Lista de Músicas</h3>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Título</th>
                                <th>Artista</th>
                                <th>Álbum</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="music-list-tbody">
                        </tbody>
                    </table>
                    <h3 style="margin-top: 2rem;">Lista de Álbuns</h3>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>Título</th>
                                <th>Artista</th>
                                <th>Ano</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="album-list-tbody">
                        </tbody>
                    </table>
                </div>

                <div class="list-container" style="margin-top: 3rem;">
                    <h3>Gêneros e Tags</h3>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="value" id="total-genres-count">0</div>
                            <div class="label">Total de Gêneros</div>
                        </div>
                        <div class="metric-card">
                            <div class="value" id="total-tags-count">0</div>
                            <div class="label">Total de Tags</div>
                        </div>
                    </div>
                    <h3 style="margin-top: 2rem;">Lista de Gêneros</h3>
                    <ul class="recent-activities-list" id="genres-list">
                    </ul>
                    <h3 style="margin-top: 2rem;">Lista de Tags</h3>
                    <ul class="recent-activities-list" id="tags-list">
                    </ul>
                </div>
            </section>

            <section id="service-management-section" class="content-section">
                <h2>Gerenciamento de Serviços</h2>
                <div class="list-container">
                    <h3>Pedidos de Serviço</h3>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Título</th>
                                <th>Cliente</th>
                                <th>Data</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="service-requests-tbody">
                        </tbody>
                    </table>
                </div>

                <div class="list-container" style="margin-top: 3rem;">
                    <h3>Propostas de Serviço</h3>
                    <table class="styled-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Título</th>
                                <th>Proponente</th>
                                <th>Preço</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="service-proposals-tbody">
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="event-management-section" class="content-section">
                <h2>Gerenciamento de Eventos</h2>
                <div class="list-container">
                    <h3>Eventos Cadastrados</h3>
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <div class="value" id="total-events-count">0</div>
                            <div class="label">Total de Eventos</div>
                        </div>
                    </div>
                    <table class="styled-table" style="margin-top: 2rem;">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nome do Evento</th>
                                <th>Estabelecimento</th>
                                <th>Data</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="events-list-tbody">
                        </tbody>
                    </table>
                </div>

                <div class="list-container" style="margin-top: 3rem;">
                    <h3>Eventos Mais Populares</h3>
                    <ul class="recent-activities-list" id="popular-events-list">
                    </ul>
                </div>
            </section>

            <section id="reports-section" class="content-section">
                <h2>Relatórios e Estatísticas</h2>
                <div class="list-container">
                    <h3>Crescimento de Usuários ao Longo do Tempo</h3>
                    <ul class="recent-activities-list" id="user-growth-report">
                    </ul>
                </div>

                <div class="list-container" style="margin-top: 3rem;">
                    <h3>Serviços Mais Solicitados</h3>
                    <ul class="recent-activities-list" id="most-requested-services">
                    </ul>
                </div>

                <div class="list-container" style="margin-top: 3rem;">
                    <h3>Gêneros Musicais Mais Populares</h3>
                    <ul class="recent-activities-list" id="most-popular-genres">
                    </ul>
                </div>
            </section>

            <section id="complaints-section" class="content-section">
                <h2>Gerenciamento de Denúncias</h2>
                <table class="styled-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Tipo</th>
                            <th>Denunciado</th>
                            <th>Status</th>
                            <th>Data</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody id="complaints-list-tbody">
                    </tbody>
                </table>
            </section>
        </main>
    </div>

    <div class="modal-overlay" id="details-view-modal-overlay">
        <div class="modal" id="details-view-modal">
            <div class="modal-header">
                <h2 id="modal-title">Detalhes</h2>
                <button class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body" id="modal-body-content">
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary modal-close-btn">Fechar</button>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () =>
    {
        // --- Dados Simulados (Substitua por chamadas Fetch reais ao seu Backend) ---
        const simulatedData = {
            // Dashboard Overview
            totalUsers: {
                artists: 125,
                establishments: 48,
                general: 750,
            },
            recentUsers: [
                { id: 'ru1', name: 'Lucas Farias', date: '2024-06-07' },
                { id: 'ru2', name: 'Fernanda Lima (Estabelecimento)', date: '2024-06-06' },
                { id: 'ru3', name: 'Mariana Costa', date: '2024-06-05' },
                { id: 'ru1', name: 'Lucas Farias', date: '2024-06-07' },
                { id: 'ru2', name: 'Fernanda Lima (Estabelecimento)', date: '2024-06-06' },
                { id: 'ru3', name: 'Mariana Costa', date: '2024-06-05' }, { id: 'ru1', name: 'Lucas Farias', date: '2024-06-07' },
                { id: 'ru2', name: 'Fernanda Lima (Estabelecimento)', date: '2024-06-06' },
                { id: 'ru3', name: 'Mariana Costa', date: '2024-06-05' }, { id: 'ru1', name: 'Lucas Farias', date: '2024-06-07' },
                { id: 'ru2', name: 'Fernanda Lima (Estabelecimento)', date: '2024-06-06' },
                { id: 'ru3', name: 'Mariana Costa', date: '2024-06-05' }, { id: 'ru1', name: 'Lucas Farias', date: '2024-06-07' },
                { id: 'ru2', name: 'Fernanda Lima (Estabelecimento)', date: '2024-06-06' },
                { id: 'ru3', name: 'Mariana Costa', date: '2024-06-05' },
            ],
            recentServices: [
                { id: 'rs1', name: 'Show de Jazz no "Café Boêmio"', status: 'Concluído', date: '2024-06-07' },
                { id: 'rs2', name: 'Gravação de Jingle para "Agência Sol"', status: 'Solicitado', date: '2024-06-06' },
                { id: 'rs3', name: 'Aula de Violão Avançado', status: 'Concluído', date: '2024-06-05' },
            ],
            recentEvents: [
                { id: 're1', name: 'Festival de Verão 2024', date: '2024-06-08', establishment: 'Parque da Cidade' },
                { id: 're2', name: 'Noite de Stand-up Comedy', date: '2024-06-06', establishment: 'Bar do Zé' },
                { id: 're3', name: 'Workshop de Canto Lírico', date: '2024-06-05', establishment: 'Escola de Artes' },
            ],
            generalStats: {
                totalMusic: 2500,
                totalAlbums: 320,
                totalGenres: 55,
                totalTags: 180,
                servicesRequested: 850,
                servicesCompleted: 620,
            },

            // User Management
            users: [
                { id: 'u001', name: 'João Silva', email: 'joao.s@email.com', type: 'Artista', isActive: true },
                { id: 'u002', name: 'Bar do Zé', email: 'contato@bardoz.com', type: 'Estabelecimento', isActive: true },
                { id: 'u003', name: 'Maria Oliveira', email: 'maria.o@email.com', type: 'Geral', isActive: false },
                { id: 'u004', name: 'Estúdio Som Perfeito', email: 'som.perfeito@email.com', type: 'Estabelecimento', isActive: true },
                { id: 'u005', name: 'Pedro Souza', email: 'pedro.s@email.com', type: 'Artista', isActive: true },
                { id: 'u006', name: 'Ana Paula', email: 'ana.p@email.com', type: 'Geral', isActive: false },
                { id: 'u001', name: 'João Silva', email: 'joao.s@email.com', type: 'Artista', isActive: true },
                { id: 'u002', name: 'Bar do Zé', email: 'contato@bardoz.com', type: 'Estabelecimento', isActive: true },
                { id: 'u003', name: 'Maria Oliveira', email: 'maria.o@email.com', type: 'Geral', isActive: false },
                { id: 'u004', name: 'Estúdio Som Perfeito', email: 'som.perfeito@email.com', type: 'Estabelecimento', isActive: true },
                { id: 'u005', name: 'Pedro Souza', email: 'pedro.s@email.com', type: 'Artista', isActive: true },
                { id: 'u006', name: 'Ana Paula', email: 'ana.p@email.com', type: 'Geral', isActive: false }, { id: 'u001', name: 'João Silva', email: 'joao.s@email.com', type: 'Artista', isActive: true },
                { id: 'u002', name: 'Bar do Zé', email: 'contato@bardoz.com', type: 'Estabelecimento', isActive: true },
                { id: 'u003', name: 'Maria Oliveira', email: 'maria.o@email.com', type: 'Geral', isActive: false },
                { id: 'u004', name: 'Estúdio Som Perfeito', email: 'som.perfeito@email.com', type: 'Estabelecimento', isActive: true },
                { id: 'u005', name: 'Pedro Souza', email: 'pedro.s@email.com', type: 'Artista', isActive: true },
                { id: 'u006', name: 'Ana Paula', email: 'ana.p@email.com', type: 'Geral', isActive: false }, { id: 'u001', name: 'João Silva', email: 'joao.s@email.com', type: 'Artista', isActive: true },
                { id: 'u002', name: 'Bar do Zé', email: 'contato@bardoz.com', type: 'Estabelecimento', isActive: true },
                { id: 'u003', name: 'Maria Oliveira', email: 'maria.o@email.com', type: 'Geral', isActive: false },
                { id: 'u004', name: 'Estúdio Som Perfeito', email: 'som.perfeito@email.com', type: 'Estabelecimento', isActive: true },
                { id: 'u005', name: 'Pedro Souza', email: 'pedro.s@email.com', type: 'Artista', isActive: true },
                { id: 'u006', name: 'Ana Paula', email: 'ana.p@email.com', type: 'Geral', isActive: false }, { id: 'u001', name: 'João Silva', email: 'joao.s@email.com', type: 'Artista', isActive: true },
                { id: 'u002', name: 'Bar do Zé', email: 'contato@bardoz.com', type: 'Estabelecimento', isActive: true },
                { id: 'u003', name: 'Maria Oliveira', email: 'maria.o@email.com', type: 'Geral', isActive: false },
                { id: 'u004', name: 'Estúdio Som Perfeito', email: 'som.perfeito@email.com', type: 'Estabelecimento', isActive: true },
                { id: 'u005', name: 'Pedro Souza', email: 'pedro.s@email.com', type: 'Artista', isActive: true },
                { id: 'u006', name: 'Ana Paula', email: 'ana.p@email.com', type: 'Geral', isActive: false },
            ],

            // Content Management
            music: [
                { id: 'm01', title: 'Minha Melodia', artist: 'João Silva', album: 'Primeiro Acorde' },
                { id: 'm02', title: 'Ritmo Urbano', artist: 'Banda da Esquina', album: 'Grandes Sucessos' },
                { id: 'm03', title: 'Caminhos do Coração', artist: 'Maria Oliveira', album: 'Alma Livre' },
            ],
            albums: [
                { id: 'a01', title: 'Primeiro Acorde', artist: 'João Silva', year: 2023 },
                { id: 'a02', title: 'Grandes Sucessos', artist: 'Banda da Esquina', year: 2022 },
            ],
            genres: [
                { id: 'g01', name: 'Rock' },
                { id: 'g02', name: 'Pop' },
                { id: 'g03', name: 'Jazz' },
                { id: 'g04', name: 'Samba' },
            ],
            tags: [
                { id: 't01', name: 'Ao Vivo' },
                { id: 't02', name: 'Acústico' },
                { id: 't03', name: 'Instrumental' },
                { id: 't04', name: 'Festa' },
            ],

            // Service Management
            serviceRequests: [
                { id: 'sr001', title: 'Show para Casamento', client: 'Família Santos', date: '2024-07-20', status: 'Pendente', description: 'Show acústico para cerimônia de casamento. Repertório de músicas românticas.' },
                { id: 'sr002', title: 'DJ para Festa de 15 Anos', client: 'Isabela Costa', date: '2024-08-10', status: 'Aceito', description: 'DJ para festa de 15 anos com mix de pop e eletrônica.' },
                { id: 'sr003', title: 'Banda para Evento Corporativo', client: 'Tech Solutions', date: '2024-06-01', status: 'Concluído', description: 'Banda de pop-rock para evento de confraternização da empresa.' },
                { id: 'sr004', title: 'Sessão de Fotos Profissional', client: 'Estúdio Criativo', date: '2024-09-05', status: 'Pendente', description: 'Sessão de fotos para portfólio de modelo.' },
            ],
            serviceProposals: [
                { id: 'sp001', title: 'Apresentação Acústica - Café Aroma', proponent: 'Pedro Souza', price: 800.00, status: 'Pendente', description: 'Proposta para show acústico semanal no café. Repertório variado.' },
                { id: 'sp002', title: 'Gravação de Podcast - Estúdio Voz', proponent: 'Estúdio Voz Perfeita', price: 500.00, status: 'Aprovado', description: 'Proposta de locação de estúdio para gravação de podcast por 4 horas.' },
                { id: 'sp003', title: 'Show de Forró - Clube da Alegria', proponent: 'Forrozeiros do Sul', price: 1500.00, status: 'Rejeitado', description: 'Proposta para show de forró em festa junina.' },
            ],

            // Event Management
            events: [
                { id: 'ev001', name: 'Noite de Talentos Locais', establishment: 'Centro Cultural', date: '2024-07-15', views: 1200, highlighted: true, description: 'Evento para apresentação de novos talentos musicais da cidade.' },
                { id: 'ev002', name: 'Happy Hour com Música ao Vivo', establishment: 'Bar do Zé', date: '2024-06-20', views: 850, highlighted: false, description: 'Música ao vivo e promoções de bebidas no happy hour.' },
                { id: 'ev003', name: 'Feira de Artesanato e Cultura', establishment: 'Praça Principal', date: '2024-08-01', views: 2500, highlighted: false, description: 'Feira com artistas locais, comidas típicas e apresentações culturais.' },
            ],

            // Reports and Statistics
            userGrowth: [
                { month: 'Jan', total: 100 },
                { month: 'Fev', total: 120 },
                { month: 'Mar', total: 150 },
                { month: 'Abr', total: 180 },
                { month: 'Mai', total: 220 },
                { month: 'Jun', total: 250 },
            ],
            mostRequestedServices: [
                { name: 'Show para Casamento', count: 50 },
                { name: 'DJ para Festas', count: 45 },
                { name: 'Gravação em Estúdio', count: 30 },
                { name: 'Aulas de Instrumento', count: 25 },
            ],
            mostPopularGenres: [
                { name: 'Pop', count: 180 },
                { name: 'Rock', count: 150 },
                { name: 'Samba', count: 120 },
                { name: 'Eletrônica', count: 90 },
            ],

            // Complaints
            complaints: [
                { id: 'den001', type: 'Comportamento Inapropriado', reported: 'João Silva (Artista)', status: 'Pendente', date: '2024-06-01', details: 'Comentários ofensivos em chat de serviço.' },
                { id: 'den002', type: 'Conteúdo Irregular', reported: 'Música "Livre Mente"', status: 'Revisado', date: '2024-05-28', details: 'Música com letra de ódio.' },
                { id: 'den003', type: 'Não Cumprimento de Serviço', reported: 'Bar do Zé (Estabelecimento)', status: 'Resolvido', date: '2024-05-20', details: 'Cancelamento de show sem aviso prévio.' },
                { id: 'den004', type: 'Spam/Abuso', reported: 'Maria Oliveira (Geral)', status: 'Pendente', date: '2024-06-05', details: 'Envio excessivo de mensagens promocionais.' },
            ]
        };

        // --- Referências aos Elementos DOM ---
        const navLinks = document.querySelectorAll('.nav-link');
        const contentSections = document.querySelectorAll('.content-section');

        // Modal de Detalhes
        const detailsViewModalOverlay = document.getElementById('details-view-modal-overlay');
        const detailsViewModal = document.getElementById('details-view-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalBodyContent = document.getElementById('modal-body-content');
        const modalCloseBtns = detailsViewModal.querySelectorAll('.modal-close-btn');

        // --- Funções Auxiliares de UI ---

        function openModal(title, contentHtml)
        {
            modalTitle.textContent = title;
            modalBodyContent.innerHTML = contentHtml;
            detailsViewModalOverlay.classList.add('active');
        }

        function closeModal()
        {
            modalTitle.textContent = '';
            modalBodyContent.innerHTML = '';
            detailsViewModalOverlay.classList.remove('active');
        }

        modalCloseBtns.forEach(btn =>
        {
            btn.addEventListener('click', closeModal);
        });
        detailsViewModalOverlay.addEventListener('click', (e) =>
        {
            if (e.target === detailsViewModalOverlay)
            {
                closeModal();
            }
        });

        // --- Funções de Renderização para cada Seção ---

        // Dashboard
        function renderDashboardOverview()
        {
            const totalUsersContainer = document.getElementById('total-users-metrics');
            const { artists, establishments, general } = simulatedData.totalUsers;
            totalUsersContainer.innerHTML = `
                    <div class="metric-card">
                        <div class="value">${ artists }</div>
                        <div class="label">Artistas</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ establishments }</div>
                        <div class="label">Estabelecimentos</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ general }</div>
                        <div class="label">Usuários Gerais</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ artists + establishments + general }</div>
                        <div class="label">Total de Usuários</div>
                    </div>
                `;

            const lastRegisteredUsersList = document.getElementById('last-registered-users');
            lastRegisteredUsersList.innerHTML = '';
            simulatedData.recentUsers.forEach(user =>
            {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ user.name }</strong> <span>${ user.date }</span>`;
                lastRegisteredUsersList.appendChild(li);
            });

            const lastServicesList = document.getElementById('last-services');
            lastServicesList.innerHTML = '';
            simulatedData.recentServices.forEach(service =>
            {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ service.name }</strong> <span>(${ service.status }) - ${ service.date }</span>`;
                lastServicesList.appendChild(li);
            });

            const lastEventsList = document.getElementById('last-events');
            lastEventsList.innerHTML = '';
            simulatedData.recentEvents.forEach(event =>
            {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ event.name }</strong> <span>(${ event.establishment }) - ${ event.date }</span>`;
                lastEventsList.appendChild(li);
            });

            const generalStatsContainer = document.getElementById('general-statistics-metrics');
            const { totalMusic, totalAlbums, totalGenres, totalTags, servicesRequested, servicesCompleted } = simulatedData.generalStats;
            generalStatsContainer.innerHTML = `
                    <div class="metric-card">
                        <div class="value">${ totalMusic }</div>
                        <div class="label">Músicas</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ totalAlbums }</div>
                        <div class="label">Álbuns</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ totalGenres }</div>
                        <div class="label">Gêneros</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ totalTags }</div>
                        <div class="label">Tags</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ servicesRequested }</div>
                        <div class="label">Serviços Solicitados</div>
                    </div>
                    <div class="metric-card">
                        <div class="value">${ servicesCompleted }</div>
                        <div class="label">Serviços Concluídos</div>
                    </div>
                `;
        }

        // Gerenciamento de Usuários
        function renderUserManagement()
        {
            const userListBody = document.getElementById('user-list-tbody');
            userListBody.innerHTML = '';
            simulatedData.users.forEach(user =>
            {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                        <td>${ user.name }</td>
                        <td>${ user.email }</td>
                        <td>${ user.type }</td>
                        <td><span style="color:${ user.isActive ? '#28a745' : '#dc3545' };">${ user.isActive ? 'Ativo' : 'Inativo' }</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn ${ user.isActive ? 'btn-danger' : 'btn-success' }" data-action="toggle-status" data-id="${ user.id }">
                                    ${ user.isActive ? 'Desativar' : 'Ativar' }
                                </button>
                                <button class="btn btn-info" data-action="view-details" data-id="${ user.id }" data-type="user">Ver Detalhes</button>
                            </div>
                        </td>
                    `;
                userListBody.appendChild(tr);
            });

            userListBody.querySelectorAll('[data-action="toggle-status"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const userId = e.target.dataset.id;
                    const user = simulatedData.users.find(u => u.id === userId);
                    if (user)
                    {
                        // === COLOQUE SEU FETCH AQUI PARA ATIVAR/DESATIVAR USUÁRIO ===
                        // Ex: await fetch(`/api/users/${userId}/toggle-status`, { method: 'PUT' });
                        user.isActive = !user.isActive;
                        alert(`Usuário "${ user.name }" ${ user.isActive ? 'ativado' : 'desativado' } (simulado).`);
                        renderUserManagement(); // Re-renderiza a lista
                    }
                });
            });
            userListBody.querySelectorAll('[data-action="view-details"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const user = simulatedData.users.find(item => item.id === id);
                    if (user)
                    {
                        const content = `
                                <p><strong>ID:</strong> ${ user.id }</p>
                                <p><strong>Nome:</strong> ${ user.name }</p>
                                <p><strong>E-mail:</strong> ${ user.email }</p>
                                <p><strong>Tipo:</strong> ${ user.type }</p>
                                <p><strong>Status:</strong> ${ user.isActive ? 'Ativo' : 'Inativo' }</p>
                            `;
                        openModal(`Detalhes do Usuário: ${ user.name }`, content);
                    }
                });
            });
        }

        // Gerenciamento de Conteúdo
        function renderContentManagement()
        {
            document.getElementById('total-music-count').textContent = simulatedData.music.length;
            document.getElementById('total-albums-count').textContent = simulatedData.albums.length;
            document.getElementById('total-genres-count').textContent = simulatedData.genres.length;
            document.getElementById('total-tags-count').textContent = simulatedData.tags.length;

            const musicListBody = document.getElementById('music-list-tbody');
            musicListBody.innerHTML = '';
            simulatedData.music.forEach(item =>
            {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                        <td>${ item.title }</td>
                        <td>${ item.artist }</td>
                        <td>${ item.album }</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-warning" data-action="edit" data-id="${ item.id }" data-type="music">Editar</button>
                                <button class="btn btn-danger" data-action="delete" data-id="${ item.id }" data-type="music">Excluir</button>
                            </div>
                        </td>
                    `;
                musicListBody.appendChild(tr);
            });

            const albumListBody = document.getElementById('album-list-tbody');
            albumListBody.innerHTML = '';
            simulatedData.albums.forEach(item =>
            {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                        <td>${ item.title }</td>
                        <td>${ item.artist }</td>
                        <td>${ item.year }</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-warning" data-action="edit" data-id="${ item.id }" data-type="album">Editar</button>
                                <button class="btn btn-danger" data-action="delete" data-id="${ item.id }" data-type="album">Excluir</button>
                            </div>
                        </td>
                    `;
                albumListBody.appendChild(tr);
            });

            const genresList = document.getElementById('genres-list');
            genresList.innerHTML = '';
            simulatedData.genres.forEach(item =>
            {
                const li = document.createElement('li');
                li.innerHTML = `
                        <strong>${ item.name }</strong>
                        <div class="action-buttons">
                            <button class="btn btn-warning" data-action="edit" data-id="${ item.id }" data-type="genre">Editar</button>
                            <button class="btn btn-danger" data-action="delete" data-id="${ item.id }" data-type="genre">Excluir</button>
                        </div>
                    `;
                genresList.appendChild(li);
            });

            const tagsList = document.getElementById('tags-list');
            tagsList.innerHTML = '';
            simulatedData.tags.forEach(item =>
            {
                const li = document.createElement('li');
                li.innerHTML = `
                        <strong>${ item.name }</strong>
                        <div class="action-buttons">
                            <button class="btn btn-warning" data-action="edit" data-id="${ item.id }" data-type="tag">Editar</button>
                            <button class="btn btn-danger" data-action="delete" data-id="${ item.id }" data-type="tag">Excluir</button>
                        </div>
                    `;
                tagsList.appendChild(li);
            });

            // Add generic listeners for Edit/Delete on content
            document.querySelectorAll('#content-management-section [data-action="edit"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const type = e.target.dataset.type;
                    alert(`Editar ${ type } com ID: ${ id } (simulado).`);
                    // Aqui você abriria um modal de edição ou navegaria para uma página de edição
                });
            });
            document.querySelectorAll('#content-management-section [data-action="delete"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const type = e.target.dataset.type;
                    if (confirm(`Tem certeza que deseja excluir este(a) ${ type } (ID: ${ id })?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA EXCLUIR CONTEÚDO ===
                        // Ex: await fetch(`/api/content/${type}/${id}`, { method: 'DELETE' });
                        alert(`${ type } com ID: ${ id } excluído (simulado).`);
                        // Remove do simulatedData e re-renderiza
                        simulatedData[type + 's'] = simulatedData[type + 's'].filter(item => item.id !== id);
                        renderContentManagement();
                    }
                });
            });
        }

        // Gerenciamento de Serviços
        function renderServiceManagement()
        {
            const serviceRequestsBody = document.getElementById('service-requests-tbody');
            serviceRequestsBody.innerHTML = '';
            simulatedData.serviceRequests.forEach(item =>
            {
                const tr = document.createElement('tr');
                let statusColor = '';
                switch (item.status)
                {
                    case 'Pendente': statusColor = 'var(--star-rating-color)'; break;
                    case 'Aceito': statusColor = '#28a745'; break;
                    case 'Concluído': statusColor = 'var(--primary-color)'; break;
                    default: statusColor = 'var(--secondary-text-color)';
                }
                tr.innerHTML = `
                        <td>${ item.id }</td>
                        <td>${ item.title }</td>
                        <td>${ item.client }</td>
                        <td>${ item.date }</td>
                        <td><span style="color:${ statusColor }; font-weight: bold;">${ item.status }</span></td>
                        <td>
                            <div class="action-buttons">
                                ${ item.status === 'Pendente' ? `<button class="btn btn-success" data-action="approve-request" data-id="${ item.id }">Aprovar</button>` : '' }
                                ${ item.status === 'Pendente' ? `<button class="btn btn-danger" data-action="reject-request" data-id="${ item.id }">Recusar</button>` : '' }
                                <button class="btn btn-info" data-action="view-details" data-id="${ item.id }" data-type="serviceRequest">Ver Detalhes</button>
                            </div>
                        </td>
                    `;
                serviceRequestsBody.appendChild(tr);
            });

            serviceRequestsBody.querySelectorAll('[data-action="approve-request"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const service = simulatedData.serviceRequests.find(s => s.id === id);
                    if (service && confirm(`Aprovar pedido de serviço "${ service.title }"?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA APROVAR PEDIDO ===
                        // Ex: await fetch(`/api/service-requests/${id}/approve`, { method: 'PUT' });
                        service.status = 'Aceito';
                        alert(`Pedido "${ service.title }" aprovado (simulado).`);
                        renderServiceManagement();
                    }
                });
            });
            serviceRequestsBody.querySelectorAll('[data-action="reject-request"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const service = simulatedData.serviceRequests.find(s => s.id === id);
                    if (service && confirm(`Recusar pedido de serviço "${ service.title }"?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA RECUSAR PEDIDO ===
                        // Ex: await fetch(`/api/service-requests/${id}/reject`, { method: 'PUT' });
                        service.status = 'Recusado'; // Adiciona um status "Recusado" ou similar
                        alert(`Pedido "${ service.title }" recusado (simulado).`);
                        renderServiceManagement();
                    }
                });
            });
            serviceRequestsBody.querySelectorAll('[data-action="view-details"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const service = simulatedData.serviceRequests.find(item => item.id === id);
                    if (service)
                    {
                        const content = `
                                <p><strong>ID:</strong> ${ service.id }</p>
                                <p><strong>Título:</strong> ${ service.title }</p>
                                <p><strong>Cliente:</strong> ${ service.client }</p>
                                <p><strong>Data:</strong> ${ service.date }</p>
                                <p><strong>Status:</strong> ${ service.status }</p>
                                <p><strong>Descrição:</strong> ${ service.description }</p>
                            `;
                        openModal(`Detalhes do Pedido de Serviço: ${ service.title }`, content);
                    }
                });
            });


            const serviceProposalsBody = document.getElementById('service-proposals-tbody');
            serviceProposalsBody.innerHTML = '';
            simulatedData.serviceProposals.forEach(item =>
            {
                const tr = document.createElement('tr');
                let statusColor = '';
                switch (item.status)
                {
                    case 'Pendente': statusColor = 'var(--star-rating-color)'; break;
                    case 'Aprovado': statusColor = '#28a745'; break;
                    case 'Rejeitado': statusColor = '#dc3545'; break;
                    default: statusColor = 'var(--secondary-text-color)';
                }
                tr.innerHTML = `
                        <td>${ item.id }</td>
                        <td>${ item.title }</td>
                        <td>${ item.proponent }</td>
                        <td>R$ ${ item.price.toFixed(2).replace('.', ',') }</td>
                        <td><span style="color:${ statusColor }; font-weight: bold;">${ item.status }</span></td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-info" data-action="view-details" data-id="${ item.id }" data-type="serviceProposal">Ver Detalhes</button>
                                ${ item.status === 'Pendente' ? `<button class="btn btn-success" data-action="approve-proposal" data-id="${ item.id }">Aprovar</button>` : '' }
                                ${ item.status === 'Pendente' ? `<button class="btn btn-danger" data-action="reject-proposal" data-id="${ item.id }">Rejeitar</button>` : '' }
                            </div>
                        </td>
                    `;
                serviceProposalsBody.appendChild(tr);
            });

            serviceProposalsBody.querySelectorAll('[data-action="approve-proposal"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const proposal = simulatedData.serviceProposals.find(p => p.id === id);
                    if (proposal && confirm(`Aprovar proposta de serviço "${ proposal.title }"?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA APROVAR PROPOSTA ===
                        proposal.status = 'Aprovado';
                        alert(`Proposta "${ proposal.title }" aprovada (simulado).`);
                        renderServiceManagement();
                    }
                });
            });
            serviceProposalsBody.querySelectorAll('[data-action="reject-proposal"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const proposal = simulatedData.serviceProposals.find(p => p.id === id);
                    if (proposal && confirm(`Rejeitar proposta de serviço "${ proposal.title }"?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA REJEITAR PROPOSTA ===
                        proposal.status = 'Rejeitado';
                        alert(`Proposta "${ proposal.title }" rejeitada (simulado).`);
                        renderServiceManagement();
                    }
                });
            });
            serviceProposalsBody.querySelectorAll('[data-action="view-details"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const proposal = simulatedData.serviceProposals.find(item => item.id === id);
                    if (proposal)
                    {
                        const content = `
                                <p><strong>ID:</strong> ${ proposal.id }</p>
                                <p><strong>Título:</strong> ${ proposal.title }</p>
                                <p><strong>Proponente:</strong> ${ proposal.proponent }</p>
                                <p><strong>Preço:</strong> R$ ${ proposal.price.toFixed(2).replace('.', ',') }</p>
                                <p><strong>Status:</strong> ${ proposal.status }</p>
                                <p><strong>Descrição:</strong> ${ proposal.description }</p>
                            `;
                        openModal(`Detalhes da Proposta de Serviço: ${ proposal.title }`, content);
                    }
                });
            });
        }

        // Gerenciamento de Eventos
        function renderEventManagement()
        {
            document.getElementById('total-events-count').textContent = simulatedData.events.length;

            const eventsListBody = document.getElementById('events-list-tbody');
            eventsListBody.innerHTML = '';
            simulatedData.events.forEach(item =>
            {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                        <td>${ item.id }</td>
                        <td>${ item.name }</td>
                        <td>${ item.establishment }</td>
                        <td>${ item.date }</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-warning" data-action="edit" data-id="${ item.id }">Editar</button>
                                <button class="btn btn-danger" data-action="delete" data-id="${ item.id }">Excluir</button>
                                <button class="btn ${ item.highlighted ? 'btn-info' : 'btn-primary' }" data-action="toggle-highlight" data-id="${ item.id }">
                                    ${ item.highlighted ? 'Desdestacar' : 'Destacar' }
                                </button>
                                <button class="btn btn-info" data-action="view-details" data-id="${ item.id }" data-type="event">Ver Detalhes</button>
                            </div>
                        </td>
                    `;
                eventsListBody.appendChild(tr);
            });

            eventsListBody.querySelectorAll('[data-action="edit"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    alert(`Editar evento com ID: ${ id } (simulado).`);
                });
            });
            eventsListBody.querySelectorAll('[data-action="delete"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    if (confirm(`Tem certeza que deseja excluir o evento (ID: ${ id })?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA EXCLUIR EVENTO ===
                        simulatedData.events = simulatedData.events.filter(item => item.id !== id);
                        alert(`Evento com ID: ${ id } excluído (simulado).`);
                        renderEventManagement();
                    }
                });
            });
            eventsListBody.querySelectorAll('[data-action="toggle-highlight"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const event = simulatedData.events.find(item => item.id === id);
                    if (event)
                    {
                        // === COLOQUE SEU FETCH AQUI PARA DESTACAR/DESDESTACAR EVENTO ===
                        event.highlighted = !event.highlighted;
                        alert(`Evento "${ event.name }" ${ event.highlighted ? 'destacado' : 'desdestacado' } (simulado).`);
                        renderEventManagement();
                    }
                });
            });
            eventsListBody.querySelectorAll('[data-action="view-details"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const event = simulatedData.events.find(item => item.id === id);
                    if (event)
                    {
                        const content = `
                                <p><strong>ID:</strong> ${ event.id }</p>
                                <p><strong>Nome:</strong> ${ event.name }</p>
                                <p><strong>Estabelecimento:</strong> ${ event.establishment }</p>
                                <p><strong>Data:</strong> ${ event.date }</p>
                                <p><strong>Visualizações:</strong> ${ event.views }</p>
                                <p><strong>Destacado:</strong> ${ event.highlighted ? 'Sim' : 'Não' }</p>
                                <p><strong>Descrição:</strong> ${ event.description }</p>
                            `;
                        openModal(`Detalhes do Evento: ${ event.name }`, content);
                    }
                });
            });


            const popularEventsList = document.getElementById('popular-events-list');
            popularEventsList.innerHTML = '';
            // Ordena por visualizações (simulado)
            const sortedEvents = [...simulatedData.events].sort((a, b) => b.views - a.views);
            sortedEvents.slice(0, 5).forEach(item =>
            { // Mostra os 5 mais populares
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ item.name }</strong> <span>(${ item.establishment }) - ${ item.views } visualizações</span>`;
                popularEventsList.appendChild(li);
            });
        }

        // Relatórios e Estatísticas
        function renderReports()
        {
            const userGrowthReport = document.getElementById('user-growth-report');
            userGrowthReport.innerHTML = '';
            simulatedData.userGrowth.forEach(item =>
            {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ item.month }</strong>: ${ item.total } usuários`;
                userGrowthReport.appendChild(li);
            });

            const mostRequestedServices = document.getElementById('most-requested-services');
            mostRequestedServices.innerHTML = '';
            simulatedData.mostRequestedServices.forEach(item =>
            {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ item.name }</strong>: ${ item.count } solicitações`;
                mostRequestedServices.appendChild(li);
            });

            const mostPopularGenres = document.getElementById('most-popular-genres');
            mostPopularGenres.innerHTML = '';
            simulatedData.mostPopularGenres.forEach(item =>
            {
                const li = document.createElement('li');
                li.innerHTML = `<strong>${ item.name }</strong>: ${ item.count } interações`;
                mostPopularGenres.appendChild(li);
            });
        }

        // Denúncias
        function renderComplaints()
        {
            const complaintsListBody = document.getElementById('complaints-list-tbody');
            complaintsListBody.innerHTML = '';
            simulatedData.complaints.forEach(item =>
            {
                const tr = document.createElement('tr');
                let statusColor = '';
                switch (item.status)
                {
                    case 'Pendente': statusColor = 'var(--star-rating-color)'; break;
                    case 'Revisado': statusColor = '#17a2b8'; break; /* Azul para revisado */
                    case 'Resolvido': statusColor = '#28a745'; break; /* Verde para resolvido */
                    default: statusColor = 'var(--secondary-text-color)';
                }
                tr.innerHTML = `
                        <td>${ item.id }</td>
                        <td>${ item.type }</td>
                        <td>${ item.reported }</td>
                        <td><span style="color:${ statusColor }; font-weight: bold;">${ item.status }</span></td>
                        <td>${ item.date }</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-info" data-action="view-details" data-id="${ item.id }" data-type="complaint">Ver Detalhes</button>
                                ${ item.status === 'Pendente' ? `<button class="btn btn-success" data-action="resolve-complaint" data-id="${ item.id }">Resolver</button>` : '' }
                            </div>
                        </td>
                    `;
                complaintsListBody.appendChild(tr);
            });
            complaintsListBody.querySelectorAll('[data-action="view-details"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const complaint = simulatedData.complaints.find(item => item.id === id);
                    if (complaint)
                    {
                        const content = `
                                <p><strong>ID:</strong> ${ complaint.id }</p>
                                <p><strong>Tipo:</strong> ${ complaint.type }</p>
                                <p><strong>Denunciado:</strong> ${ complaint.reported }</p>
                                <p><strong>Status:</strong> ${ complaint.status }</p>
                                <p><strong>Data:</strong> ${ complaint.date }</p>
                                <p><strong>Detalhes:</strong> ${ complaint.details }</p>
                            `;
                        openModal(`Detalhes da Denúncia: ${ complaint.id }`, content);
                    }
                });
            });
            complaintsListBody.querySelectorAll('[data-action="resolve-complaint"]').forEach(button =>
            {
                button.addEventListener('click', (e) =>
                {
                    const id = e.target.dataset.id;
                    const complaint = simulatedData.complaints.find(c => c.id === id);
                    if (complaint && confirm(`Marcar denúncia ${ id } como resolvida?`))
                    {
                        // === COLOQUE SEU FETCH AQUI PARA RESOLVER DENÚNCIA ===
                        complaint.status = 'Resolvido';
                        alert(`Denúncia ${ id } marcada como resolvida (simulado).`);
                        renderComplaints();
                    }
                });
            });
        }

        // --- Gerenciador de Seções ---
        const sectionRenderFunctions = {
            'dashboard-section': renderDashboardOverview,
            'user-management-section': renderUserManagement,
            'content-management-section': renderContentManagement,
            'service-management-section': renderServiceManagement,
            'event-management-section': renderEventManagement,
            'reports-section': renderReports,
            'complaints-section': renderComplaints
        };

        function showSection(sectionId)
        {
            // Esconde todas as seções
            contentSections.forEach(section =>
            {
                section.classList.remove('active');
            });

            // Remove 'active' de todos os links de navegação
            navLinks.forEach(link =>
            {
                link.classList.remove('active');
            });

            // Mostra a seção desejada
            const activeSection = document.getElementById(sectionId);
            if (activeSection)
            {
                activeSection.classList.add('active');
                // Adiciona 'active' ao link de navegação correspondente
                document.querySelector(`.nav-link[data-section="${ sectionId }"]`).classList.add('active');

                // Chama a função de renderização específica para a seção
                if (sectionRenderFunctions[sectionId])
                {
                    sectionRenderFunctions[sectionId]();
                }
            }
        }

        // --- Event Listeners de Navegação ---
        navLinks.forEach(link =>
        {
            link.addEventListener('click', (e) =>
            {
                e.preventDefault();
                const sectionId = e.target.dataset.section;
                if (sectionId)
                {
                    showSection(sectionId);
                }
            });
        });

        // --- Inicialização ---
        // Carregar e renderizar a seção de dashboard ao carregar a página
        showSection('dashboard-section'); // Define a seção inicial
    });
</script>